{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nimport { SHAPES, EVENTS } from '../utils/constants';\nexport default function useDrawing(socket, roomId) {\n  _s();\n  const [elements, setElements] = useState([]);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const handleDrawStart = useCallback((x, y) => {\n    setIsDrawing(true);\n    const newElement = {\n      id: Date.now(),\n      type: SHAPES.FREEHAND,\n      points: [[x, y]],\n      temp: true\n    };\n    setElements(prev => [...prev, newElement]);\n    socket.emit(EVENTS.DRAW_START, {\n      roomId,\n      element: newElement\n    });\n  }, [roomId, socket]);\n  const handleDrawMove = useCallback((x, y) => {\n    if (!isDrawing) return;\n    setElements(prev => {\n      const lastIndex = prev.length - 1;\n      const updated = [...prev];\n      updated[lastIndex] = {\n        ...updated[lastIndex],\n        points: [...updated[lastIndex].points, [x, y]]\n      };\n      return updated;\n    });\n    socket.emit(EVENTS.DRAW_MOVE, {\n      roomId,\n      point: [x, y]\n    });\n  }, [isDrawing, roomId, socket]);\n  const handleDrawEnd = useCallback(() => {\n    setIsDrawing(false);\n    socket.emit(EVENTS.DRAW_END, {\n      roomId\n    });\n  }, [roomId, socket]);\n  return {\n    elements,\n    setElements,\n    isDrawing,\n    handleDrawStart,\n    handleDrawMove,\n    handleDrawEnd\n  };\n}\n_s(useDrawing, \"U8lc4Ygm9MwZzjpC6HY5129KPhM=\");","map":{"version":3,"names":["useState","useCallback","SHAPES","EVENTS","useDrawing","socket","roomId","_s","elements","setElements","isDrawing","setIsDrawing","handleDrawStart","x","y","newElement","id","Date","now","type","FREEHAND","points","temp","prev","emit","DRAW_START","element","handleDrawMove","lastIndex","length","updated","DRAW_MOVE","point","handleDrawEnd","DRAW_END"],"sources":["C:/Users/Amoolya Suneja/Desktop/AI-Liveboard/client/src/hooks/useDrawing.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { SHAPES, EVENTS } from '../utils/constants';\r\n\r\nexport default function useDrawing(socket, roomId) {\r\n  const [elements, setElements] = useState([]);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n\r\n  const handleDrawStart = useCallback((x, y) => {\r\n    setIsDrawing(true);\r\n    const newElement = {\r\n      id: Date.now(),\r\n      type: SHAPES.FREEHAND,\r\n      points: [[x, y]],\r\n      temp: true\r\n    };\r\n    setElements(prev => [...prev, newElement]);\r\n    socket.emit(EVENTS.DRAW_START, { roomId, element: newElement });\r\n  }, [roomId, socket]);\r\n\r\n  const handleDrawMove = useCallback((x, y) => {\r\n    if (!isDrawing) return;\r\n    \r\n    setElements(prev => {\r\n      const lastIndex = prev.length - 1;\r\n      const updated = [...prev];\r\n      updated[lastIndex] = {\r\n        ...updated[lastIndex],\r\n        points: [...updated[lastIndex].points, [x, y]]\r\n      };\r\n      return updated;\r\n    });\r\n    \r\n    socket.emit(EVENTS.DRAW_MOVE, { \r\n      roomId, \r\n      point: [x, y] \r\n    });\r\n  }, [isDrawing, roomId, socket]);\r\n\r\n  const handleDrawEnd = useCallback(() => {\r\n    setIsDrawing(false);\r\n    socket.emit(EVENTS.DRAW_END, { roomId });\r\n  }, [roomId, socket]);\r\n\r\n  return {\r\n    elements,\r\n    setElements,\r\n    isDrawing,\r\n    handleDrawStart,\r\n    handleDrawMove,\r\n    handleDrawEnd\r\n  };\r\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,SAASC,MAAM,EAAEC,MAAM,QAAQ,oBAAoB;AAEnD,eAAe,SAASC,UAAUA,CAACC,MAAM,EAAEC,MAAM,EAAE;EAAAC,EAAA;EACjD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMY,eAAe,GAAGX,WAAW,CAAC,CAACY,CAAC,EAAEC,CAAC,KAAK;IAC5CH,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMI,UAAU,GAAG;MACjBC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdC,IAAI,EAAEjB,MAAM,CAACkB,QAAQ;MACrBC,MAAM,EAAE,CAAC,CAACR,CAAC,EAAEC,CAAC,CAAC,CAAC;MAChBQ,IAAI,EAAE;IACR,CAAC;IACDb,WAAW,CAACc,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAER,UAAU,CAAC,CAAC;IAC1CV,MAAM,CAACmB,IAAI,CAACrB,MAAM,CAACsB,UAAU,EAAE;MAAEnB,MAAM;MAAEoB,OAAO,EAAEX;IAAW,CAAC,CAAC;EACjE,CAAC,EAAE,CAACT,MAAM,EAAED,MAAM,CAAC,CAAC;EAEpB,MAAMsB,cAAc,GAAG1B,WAAW,CAAC,CAACY,CAAC,EAAEC,CAAC,KAAK;IAC3C,IAAI,CAACJ,SAAS,EAAE;IAEhBD,WAAW,CAACc,IAAI,IAAI;MAClB,MAAMK,SAAS,GAAGL,IAAI,CAACM,MAAM,GAAG,CAAC;MACjC,MAAMC,OAAO,GAAG,CAAC,GAAGP,IAAI,CAAC;MACzBO,OAAO,CAACF,SAAS,CAAC,GAAG;QACnB,GAAGE,OAAO,CAACF,SAAS,CAAC;QACrBP,MAAM,EAAE,CAAC,GAAGS,OAAO,CAACF,SAAS,CAAC,CAACP,MAAM,EAAE,CAACR,CAAC,EAAEC,CAAC,CAAC;MAC/C,CAAC;MACD,OAAOgB,OAAO;IAChB,CAAC,CAAC;IAEFzB,MAAM,CAACmB,IAAI,CAACrB,MAAM,CAAC4B,SAAS,EAAE;MAC5BzB,MAAM;MACN0B,KAAK,EAAE,CAACnB,CAAC,EAAEC,CAAC;IACd,CAAC,CAAC;EACJ,CAAC,EAAE,CAACJ,SAAS,EAAEJ,MAAM,EAAED,MAAM,CAAC,CAAC;EAE/B,MAAM4B,aAAa,GAAGhC,WAAW,CAAC,MAAM;IACtCU,YAAY,CAAC,KAAK,CAAC;IACnBN,MAAM,CAACmB,IAAI,CAACrB,MAAM,CAAC+B,QAAQ,EAAE;MAAE5B;IAAO,CAAC,CAAC;EAC1C,CAAC,EAAE,CAACA,MAAM,EAAED,MAAM,CAAC,CAAC;EAEpB,OAAO;IACLG,QAAQ;IACRC,WAAW;IACXC,SAAS;IACTE,eAAe;IACfe,cAAc;IACdM;EACF,CAAC;AACH;AAAC1B,EAAA,CAhDuBH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}